<UserControl x:Class="MagicCube.ViewSingle.UCSearchCondition2"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:BConvert="clr-namespace:MagicCube.BindingConvert"
             xmlns:controls="clr-namespace:MagicCube.TemplateUC"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:MagicCube.ViewSingle"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             d:DesignHeight="1070"
             d:DesignWidth="688"
             mc:Ignorable="d">
    <Grid>
        <Grid.Resources>
            <BConvert:StringIsNullConverter x:Key="StringIsNullConverter" />
            <BConvert:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter" />
            <BConvert:StringVisibilityConverter x:Key="StringVisibilityConverter" />
            <BConvert:CompanyProvinceToCityConverter x:Key="CompanyProvinceToCityConverter" />
            <!--<Style TargetType="{x:Type ComboBox}">
                <Setter Property="SnapsToDevicePixels" Value="true" />
                <Setter Property="Focusable" Value="False" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type ComboBox}">
                            <ControlTemplate.Resources>
                                <Storyboard x:Key="FocusedOn">
                                    <DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                   Storyboard.TargetName="FocusVisualElement"
                                                                   Storyboard.TargetProperty="(UIElement.Opacity)">
                                        <SplineDoubleKeyFrame KeyTime="00:00:00.1000000" Value="1" />
                                    </DoubleAnimationUsingKeyFrames>
                                </Storyboard>
                                <Storyboard x:Key="FocusedOff">
                                    <DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                   Storyboard.TargetName="FocusVisualElement"
                                                                   Storyboard.TargetProperty="(UIElement.Opacity)">
                                        <SplineDoubleKeyFrame KeyTime="00:00:00.3000000" Value="0" />
                                    </DoubleAnimationUsingKeyFrames>
                                </Storyboard>
                            </ControlTemplate.Resources>
                            <Grid Background="White">
                                <ToggleButton x:Name="ToggleButton"
                                              ClickMode="Press"
                                              Focusable="False"
                                              IsChecked="{Binding Path=IsDropDownOpen,
                                                                  Mode=TwoWay,
                                                                  RelativeSource={RelativeSource TemplatedParent}}">
                                    <ToggleButton.Template>
                                        <ControlTemplate TargetType="{x:Type ToggleButton}">
                                            <ControlTemplate.Resources>
                                                <Storyboard x:Key="HoverOn">
                                                    <DoubleAnimation Duration="00:00:00.1000000"
                                                                     Storyboard.TargetName="BtnOver"
                                                                     Storyboard.TargetProperty="Opacity"
                                                                     To="0.8" />
                                                    <DoubleAnimation Duration="00:00:00.1000000"
                                                                     Storyboard.TargetName="Background_over"
                                                                     Storyboard.TargetProperty="Opacity"
                                                                     To="1" />
                                                </Storyboard>
                                                <Storyboard x:Key="HoverOff">
                                                    <DoubleAnimation Duration="00:00:00.4000000"
                                                                     Storyboard.TargetName="BtnOver"
                                                                     Storyboard.TargetProperty="Opacity"
                                                                     To="0" />
                                                    <DoubleAnimation Duration="00:00:00.4000000"
                                                                     Storyboard.TargetName="Background_over"
                                                                     Storyboard.TargetProperty="Opacity"
                                                                     To="0" />
                                                </Storyboard>
                                                <Storyboard x:Key="PressedOn">
                                                    <DoubleAnimation Duration="00:00:00.1000000"
                                                                     Storyboard.TargetName="BtnPress"
                                                                     Storyboard.TargetProperty="Opacity"
                                                                     To="0.8" />
                                                    <DoubleAnimation Duration="00:00:00.1000000"
                                                                     Storyboard.TargetName="Background_press"
                                                                     Storyboard.TargetProperty="Opacity"
                                                                     To="1" />
                                                    <DoubleAnimation Duration="00:00:00.1000000"
                                                                     Storyboard.TargetName="BtnPress_highlight"
                                                                     Storyboard.TargetProperty="Opacity"
                                                                     To="1" />
                                                </Storyboard>
                                                <Storyboard x:Key="PressedOff">
                                                    <DoubleAnimation Duration="00:00:00.4000000"
                                                                     Storyboard.TargetName="BtnPress"
                                                                     Storyboard.TargetProperty="Opacity"
                                                                     To="0" />
                                                    <DoubleAnimation Duration="00:00:00.4000000"
                                                                     Storyboard.TargetName="Background_press"
                                                                     Storyboard.TargetProperty="Opacity"
                                                                     To="0" />
                                                    <DoubleAnimation Duration="00:00:00.4000000"
                                                                     Storyboard.TargetName="BtnPress_highlight"
                                                                     Storyboard.TargetProperty="Opacity"
                                                                     To="0" />
                                                </Storyboard>
                                            </ControlTemplate.Resources>
                                            <Grid>
                                                <Rectangle x:Name="Background"
                                                           IsHitTestVisible="false"
                                                           RadiusX="3"
                                                           RadiusY="3"
                                                           Stroke="#e5e5e5" />
                                                <Rectangle x:Name="Background_over"
                                                           IsHitTestVisible="False"
                                                           Opacity="0"
                                                           RadiusX="3"
                                                           RadiusY="3"
                                                           Stroke="#FFABACAD" />
                                                <Rectangle x:Name="Background_press"
                                                           IsHitTestVisible="False"
                                                           Opacity="0"
                                                           RadiusX="3"
                                                           RadiusY="3"
                                                           Stroke="#FFABABAB" />
                                                <Border x:Name="BtnOver"
                                                        Width="{TemplateBinding ActualWidth}"
                                                        HorizontalAlignment="Right"
                                                        Background="AliceBlue"
                                                        BorderBrush="#FFABABAB"
                                                        BorderThickness="1"
                                                        CornerRadius="3"
                                                        Opacity="0" />
                                                <Border x:Name="BtnPress"
                                                        Width="{TemplateBinding ActualWidth}"
                                                        HorizontalAlignment="Right"
                                                        Background="AliceBlue"
                                                        BorderBrush="#FF595A5B"
                                                        BorderThickness="1"
                                                        CornerRadius="3"
                                                        Opacity="0" />
                                                <Border x:Name="BtnPress_highlight"
                                                        Margin="1"
                                                        HorizontalAlignment="Right"
                                                        CornerRadius="2"
                                                        Opacity="0">
                                                    <Border.Background>
                                                        <LinearGradientBrush StartPoint="0,0.5" EndPoint="1,0.5">
                                                            <GradientStop Offset="0" Color="#FF919191" />
                                                            <GradientStop Offset="0.088" Color="#A5CED1D2" />
                                                            <GradientStop Offset="0.221" Color="#0095D9FF" />
                                                            <GradientStop Offset="0.779" Color="#0095D9FF" />
                                                            <GradientStop Offset="0.912" Color="#A5CED1D2" />
                                                            <GradientStop Offset="1" Color="#FF919191" />
                                                        </LinearGradientBrush>
                                                    </Border.Background>
                                                </Border>
                                                <Border x:Name="BtnOverlay"
                                                        Margin="1"
                                                        HorizontalAlignment="Right"
                                                        CornerRadius="2">
                                                    <Border.Background>
                                                        <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                                            <GradientStop Color="#00FFFFFF" />
                                                            <GradientStop Offset="0.189" Color="#72FFFFFF" />
                                                            <GradientStop Offset="0.5" Color="#72FFFFFF" />
                                                            <GradientStop Offset="0.51" Color="#00FFFFFF" />
                                                        </LinearGradientBrush>
                                                    </Border.Background>
                                                </Border>
                                                <Path x:Name="BtnArrow"
                                                      Width="8"
                                                      Margin="0,0,7,0"
                                                      HorizontalAlignment="Right"
                                                      Data="F1 M 301.14,-189.041L 311.57,-189.041L 306.355,-182.942L 301.14,-189.041 Z "
                                                      Fill="#8490a4"
                                                      Stretch="Uniform" />
                                                <Rectangle x:Name="DisabledVisualElement"
                                                           Margin="1"
                                                           Fill="#00FFFFFF"
                                                           IsHitTestVisible="false"
                                                           RadiusX="3"
                                                           RadiusY="3"
                                                           Visibility="Collapsed" />
                                            </Grid>
                                            <ControlTemplate.Triggers>
                                                <Trigger Property="IsMouseOver" Value="true">
                                                    <Trigger.ExitActions>
                                                        <BeginStoryboard x:Name="HoverOff_BeginStoryboard" Storyboard="{StaticResource HoverOff}" />
                                                    </Trigger.ExitActions>
                                                    <Trigger.EnterActions>
                                                        <BeginStoryboard Storyboard="{StaticResource HoverOn}" />
                                                    </Trigger.EnterActions>
                                                </Trigger>
                                                <Trigger Property="IsChecked" Value="true" />
                                                <Trigger Property="IsPressed" Value="True">
                                                    <Trigger.ExitActions>
                                                        <BeginStoryboard x:Name="PressedOff_BeginStoryboard" Storyboard="{StaticResource PressedOff}" />
                                                    </Trigger.ExitActions>
                                                    <Trigger.EnterActions>
                                                        <BeginStoryboard x:Name="PressedOn_BeginStoryboard" Storyboard="{StaticResource PressedOn}" />
                                                    </Trigger.EnterActions>
                                                </Trigger>
                                                <Trigger Property="IsEnabled" Value="False">
                                                    <Setter Property="Foreground" Value="{DynamicResource DisabledForegroundBrush}" />
                                                    <Setter TargetName="DisabledVisualElement" Property="Visibility" Value="Visible" />
                                                </Trigger>
                                            </ControlTemplate.Triggers>
                                        </ControlTemplate>
                                    </ToggleButton.Template>
                                </ToggleButton>
                                <ContentPresenter x:Name="ContentSite"
                                                  Margin="10,3,3,3"
                                                  HorizontalAlignment="Left"
                                                  VerticalAlignment="Center"
                                                  Content="{TemplateBinding SelectionBoxItem}"
                                                  ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                                                  ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}"
                                                  IsHitTestVisible="False" />
                                <TextBox x:Name="PART_EditableTextBox"
                                         Margin="3,3,23,3"
                                         HorizontalAlignment="Left"
                                         VerticalAlignment="Center"
                                         Background="Transparent"
                                         Focusable="True"
                                         IsReadOnly="{TemplateBinding IsReadOnly}"
                                         Style="{x:Null}"
                                         Visibility="Hidden">
                                    <TextBox.Template>
                                        <ControlTemplate TargetType="{x:Type TextBox}">
                                            <Border x:Name="PART_ContentHost"
                                                    Background="{TemplateBinding Background}"
                                                    Focusable="False" />
                                        </ControlTemplate>
                                    </TextBox.Template>
                                </TextBox>
                                <Rectangle x:Name="DisabledVisualElement"
                                           Fill="#A5FFFFFF"
                                           IsHitTestVisible="false"
                                           RadiusX="4"
                                           RadiusY="4"
                                           Visibility="Collapsed" />
                                <Rectangle x:Name="FocusVisualElement"
                                           Margin="-1"
                                           IsHitTestVisible="false"
                                           Opacity="0"
                                           RadiusX="4"
                                           RadiusY="4"
                                           Stroke="#FFCECFD0"
                                           StrokeThickness="1" />
                                <Popup x:Name="Popup"
                                       AllowsTransparency="True"
                                       Focusable="False"
                                       IsOpen="{TemplateBinding IsDropDownOpen}"
                                       PopupAnimation="None">
                                    <Grid x:Name="DropDown"
                                          MinWidth="{TemplateBinding ActualWidth}"
                                          MaxHeight="{TemplateBinding MaxDropDownHeight}"
                                          SnapsToDevicePixels="True">
                                        <Border x:Name="DropDownBorder"
                                                Background="#FFFFFFFF"
                                                BorderThickness="1"
                                                CornerRadius="3,3,3,3">
                                            <Border.BorderBrush>
                                                <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                                    <GradientStop Offset="0" Color="#FFABAEB3" />
                                                    <GradientStop Offset="0.355" Color="#FFD4D7D9" />
                                                </LinearGradientBrush>
                                            </Border.BorderBrush>
                                            <ScrollViewer Margin="4,6,4,6"
                                                          CanContentScroll="True"
                                                          HorizontalScrollBarVisibility="Auto"
                                                          SnapsToDevicePixels="True"
                                                          Template="{DynamicResource ScrollViewerControlTemplate1}"
                                                          VerticalScrollBarVisibility="Auto">
                                                <StackPanel IsItemsHost="True" KeyboardNavigation.DirectionalNavigation="Contained" />
                                            </ScrollViewer>
                                        </Border>
                                    </Grid>
                                </Popup>
                            </Grid>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsFocused" Value="True">
                                    <Trigger.ExitActions>
                                        <BeginStoryboard x:Name="FocusedOff_BeginStoryboard" Storyboard="{StaticResource FocusedOff}" />
                                    </Trigger.ExitActions>
                                    <Trigger.EnterActions>
                                        <BeginStoryboard Storyboard="{StaticResource FocusedOn}" />
                                    </Trigger.EnterActions>
                                </Trigger>
                                <Trigger Property="HasItems" Value="false">
                                    <Setter TargetName="DropDownBorder" Property="MinHeight" Value="95" />
                                </Trigger>
                                <Trigger Property="IsEnabled" Value="false">
                                    <Setter Property="Foreground" Value="Black" />
                                    <Setter TargetName="DisabledVisualElement" Property="Visibility" Value="Visible" />
                                </Trigger>
                                <Trigger Property="IsGrouping" Value="true">
                                    <Setter Property="ScrollViewer.CanContentScroll" Value="false" />
                                </Trigger>
                                <Trigger SourceName="Popup" Property="AllowsTransparency" Value="true">
                                    <Setter TargetName="DropDownBorder" Property="CornerRadius" Value="4" />
                                    <Setter TargetName="DropDownBorder" Property="Margin" Value="0,0,0,0" />
                                </Trigger>
                                <Trigger Property="IsEditable" Value="true">
                                    <Setter Property="IsTabStop" Value="false" />
                                    <Setter TargetName="PART_EditableTextBox" Property="Visibility" Value="Visible" />
                                    <Setter TargetName="ContentSite" Property="Visibility" Value="Hidden" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
                <Setter Property="ItemContainerStyle">
                    <Setter.Value>
            -->
            <!--  ComBoxItem  -->
            <!--
                        <Style TargetType="ComboBoxItem">
                            <Setter Property="MinHeight" Value="22" />
                            <Setter Property="MinWidth" Value="60" />
                            <Setter Property="Foreground" Value="#999999" />
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="ComboBoxItem">
                                        <Border Name="Back"
                                                Height="32"
                                                Background="Transparent"
                                                BorderBrush="#81D779"
                                                BorderThickness="0,0,0,0">
                                            <ContentPresenter Margin="5,0,0,0"
                                                              HorizontalAlignment="Left"
                                                              VerticalAlignment="Center"
                                                              ContentSource="{Binding Source}" />
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter TargetName="Back" Property="Background" Value="#f8f9fc" />
                                            </Trigger>
                                            <Trigger Property="IsHighlighted" Value="True">
                                                <Setter TargetName="Back" Property="Background" Value="#f8f9fc" />
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </Setter.Value>
                </Setter>
            </Style>-->
        </Grid.Resources>
        <Grid.RowDefinitions>
            <RowDefinition Height="60" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <Grid x:Name="gdSaveCondition"
              Grid.RowSpan="2"
              Margin="-300,0,0,0"
              Panel.ZIndex="1"
              Background="#82000000"
              Visibility="Collapsed">
            <Border Width="500"
                    Height="274"
                    Background="White"
                    CornerRadius="2">
                <StackPanel>
                    <StackPanel Margin="35,68,0,0" Orientation="Horizontal">
                        <TextBlock Margin="0,0,10,0"
                                   VerticalAlignment="Center"
                                   FontSize="14"
                                   Foreground="#666666"
                                   Text="搜索条件名称" />

                        <Grid Width="310" Height="34">
                            <Rectangle x:Name="rctSearchHeadName"
                                       RadiusX="3"
                                       RadiusY="3"
                                       Stroke="#e5e5e5"
                                       StrokeThickness="1" />
                            <TextBox x:Name="txtSearchHeadName"
                                     Margin="10,0,10,0"
                                     VerticalContentAlignment="Center"
                                     Background="Transparent"
                                     BorderThickness="0"
                                     FontSize="14"
                                     Foreground="#666666"
                                     GotFocus="txtSearchHeadName_GotFocus"
                                     MaxLength="20" />
                        </Grid>

                    </StackPanel>
                    <TextBlock x:Name="txtErroConditionName"
                               Margin="130,5,0,0"
                               VerticalAlignment="Center"
                               Foreground="#f25751"
                               Text="名称不能为空"
                               Visibility="Collapsed" />
                    <StackPanel Margin="0,67,0,0" Orientation="Horizontal">
                        <controls:BlueButton Width="103"
                                             Height="34"
                                             Margin="140,0,0,0"
                                             Click="btnSaveConditionOK_Click"
                                             Text="保存" />
                        <controls:WhiteButton Width="103"
                                              Height="34"
                                              Margin="14,0,0,0"
                                              Click="btnSaveConditionCancel_Click"
                                              Text="取消" />
                    </StackPanel>
                </StackPanel>
            </Border>

        </Grid>
        <Grid x:Name="gdIndustry"
              Grid.RowSpan="2"
              Margin="-300,0,0,0"
              Panel.ZIndex="1"
              Background="#82000000"
              Visibility="Collapsed">
            <Grid.Resources>
                <Style TargetType="{x:Type CheckBox}">
                    <Setter Property="OverridesDefaultStyle" Value="True" />
                    <Setter Property="Margin" Value="0,8,0,8" />
                    <Setter Property="SnapsToDevicePixels" Value="True" />
                    <Setter Property="Foreground" Value="#666666" />
                    <Setter Property="FontSize" Value="12" />
                    <Setter Property="Cursor" Value="Hand" />
                    <Setter Property="FocusVisualStyle" Value="{x:Null}" />
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="{x:Type CheckBox}">
                                <BulletDecorator VerticalAlignment="Top"
                                                 Background="Transparent"
                                                 FlowDirection="LeftToRight">
                                    <BulletDecorator.Bullet>
                                        <Image x:Name="img"
                                               Width="16"
                                               Height="16"
                                               Margin="0,0,0,0"
                                               HorizontalAlignment="Center"
                                               VerticalAlignment="Top"
                                               Source="/MagicCube;component/Resources/Images/Mcheckno.png" />
                                    </BulletDecorator.Bullet>

                                    <ContentPresenter Margin="10,0" VerticalAlignment="Center" />

                                </BulletDecorator>
                                <!--
                                    控件触发器
                                -->
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsChecked" Value="True">
                                        <!--  画上一个勾  -->
                                        <Setter TargetName="img" Property="Source" Value="/MagicCube;component/Resources/Images/Mcheck.png" />
                                        <!--<Setter TargetName="bd" Property="Background" Value="#5192ff" />-->
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </Grid.Resources>
            <Border Width="540"
                    Height="469"
                    Background="#f8f9fc"
                    BorderBrush="#e5e5e5"
                    BorderThickness="1"
                    Visibility="{Binding ElementName=chkOpen,
                                         Path=IsChecked,
                                         Converter={StaticResource BoolToVisibilityConverter}}">
                <ScrollViewer Margin="0,0,0,0"
                              Template="{DynamicResource ScrollViewerControlTemplate1}"
                              VerticalScrollBarVisibility="Auto">
                    <StackPanel>
                        <TextBlock Margin="13,18,0,8"
                                   FontSize="14"
                                   Foreground="#666666"
                                   Style="{x:Null}"
                                   Text="请选择公司所属行业，最多可选3个" />

                        <ItemsControl x:Name="itemsIndustries" Margin="15,0,15,0">
                            <ItemsControl.ItemsPanel>
                                <ItemsPanelTemplate>
                                    <WrapPanel Orientation="Horizontal" />
                                </ItemsPanelTemplate>
                            </ItemsControl.ItemsPanel>
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Border Width="160">
                                        <CheckBox Click="chkIndustry_Click" IsChecked="{Binding isChoose}">
                                            <CheckBox.Content>
                                                <TextBlock Width="100"
                                                           Text="{Binding name}"
                                                           TextWrapping="Wrap" />
                                            </CheckBox.Content>

                                        </CheckBox>
                                    </Border>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                        <StackPanel Margin="158, 20,0,0" Orientation="Horizontal">
                            <controls:BlueButton Width="80"
                                                 Height="34"
                                                 Click="IndustrySelectOK_Click"
                                                 Text="确定" />
                            <controls:WhiteButton Width="80"
                                                  Height="34"
                                                  Margin="10,0,0,0"
                                                  Click="IndustrySelectCancel_Click"
                                                  Text="取消" />
                        </StackPanel>
                    </StackPanel>
                </ScrollViewer>


            </Border>
        </Grid>

        <Grid x:Name="gdProvinceCity"
              Grid.RowSpan="2"
              Margin="-300,0,0,0"
              Panel.ZIndex="1"
              Background="#82000000"
              Visibility="{Binding ElementName=chkExpectCityOpen,
                                   Path=IsChecked,
                                   Converter={StaticResource BoolToVisibilityConverter}}">
            <controls:UCProvinceCity x:Name="ucProvinceCity"
                                     Width="620"
                                     Height="581"
                                     ForceSecondSelcted="False"
                                     MostSelectedNum="3"
                                     StrTitle="最多选择3项" />
        </Grid>

        <Grid x:Name="gdLocationCity"
              Grid.RowSpan="2"
              Margin="-300,0,0,0"
              Panel.ZIndex="1"
              Background="#82000000"
              Visibility="{Binding ElementName=chkLocationOpen,
                                   Path=IsChecked,
                                   Converter={StaticResource BoolToVisibilityConverter}}">
            <controls:UCProvinceCity x:Name="ucLocaitonCityPanel"
                                     Width="620"
                                     Height="581"
                                     ForceSecondSelcted="False"
                                     MostSelectedNum="1"
                                     StrTitle="最多选择1项" />
        </Grid>


        <Popup x:Name="popupAuto"
               HorizontalAlignment="Left"
               AllowsTransparency="True"
               IsOpen="False"
               PopupAnimation="None"
               StaysOpen="False">
            <Border Width="378"
                    MaxHeight="328"
                    Background="White">
                <ScrollViewer x:Name="scrollResum"
                              Margin="0,0,0,0"
                              Template="{DynamicResource ScrollViewerControlTemplate1}"
                              VerticalScrollBarVisibility="Auto">
                    <Border Width="{Binding ElementName=stkMain,
                                            Path=Width}"
                            Margin="0,4,0,0"
                            BorderBrush="#ebebeb"
                            BorderThickness="1"
                            CornerRadius="3">
                        <ListBox x:Name="popupAutoList"
                                 Background="#f8f9fc"
                                 FocusVisualStyle="{x:Null}"
                                 PreviewKeyDown="popupAutoList_PreviewKeyDown"
                                 ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                 ScrollViewer.VerticalScrollBarVisibility="Disabled">
                            <ListBox.ItemContainerStyle>
                                <Style TargetType="ListBoxItem">
                                    <!--<EventSetter Event="PreviewMouseLeftButtonDown" Handler="ListBoxItem_MouseDownClick" />-->
                                    <!--  设置控件模板  -->
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="ListBoxItem">
                                                <Border Height="32"
                                                        Background="{TemplateBinding Background}"
                                                        BorderThickness="0">
                                                    <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                                      VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                                                      TextBlock.Foreground="{TemplateBinding Foreground}" />
                                                </Border>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>

                                    <!--  设置触发器  -->
                                    <Style.Triggers>
                                        <Trigger Property="IsSelected" Value="true">
                                            <Setter Property="Background" Value="AliceBlue" />
                                        </Trigger>
                                        <Trigger Property="IsMouseOver" Value="true">
                                            <Setter Property="Background" Value="Transparent" />
                                        </Trigger>
                                        <MultiTrigger>
                                            <MultiTrigger.Conditions>
                                                <Condition Property="IsMouseOver" Value="True" />
                                                <Condition Property="IsSelected" Value="True" />
                                            </MultiTrigger.Conditions>
                                            <Setter Property="Background" Value="Transparent" />
                                        </MultiTrigger>
                                    </Style.Triggers>
                                </Style>
                            </ListBox.ItemContainerStyle>

                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <StackPanel>
                                        <TextBlock x:Name="tb"
                                                   Width="378"
                                                   Height="32"
                                                   Background="Transparent"
                                                   Cursor="Hand"
                                                   Foreground="#333333"
                                                   MouseLeftButtonDown="tb_MouseLeftButtonDown"
                                                   Padding="10"
                                                   Text="{Binding}"
                                                   TextAlignment="Left" />
                                    </StackPanel>
                                    <DataTemplate.Triggers>
                                        <Trigger Property="IsMouseOver" Value="true">
                                            <Setter TargetName="tb" Property="Background" Value="AliceBlue" />
                                        </Trigger>

                                    </DataTemplate.Triggers>
                                </DataTemplate>

                            </ItemsControl.ItemTemplate>

                        </ListBox>
                    </Border>
                </ScrollViewer>
            </Border>
        </Popup>

        <Busy:BusyIndicator xmlns:Busy="clr-namespace:BusyIndicatorCtrl"
                            x:Name="busyCtrl"
                            Grid.RowSpan="5"
                            Panel.ZIndex="10"
                            d:IsHidden="True" />


        <TextBlock Grid.Row="0"
                   Grid.Column="0"
                   Grid.ColumnSpan="2"
                   HorizontalAlignment="Center"
                   VerticalAlignment="Center"
                   FontSize="16"
                   Foreground="#333333"
                   Text="人才搜索" />
        <Grid Grid.Row="1" Background="White">
            <StackPanel Margin="21,20,0,0"
                        VerticalAlignment="Top"
                        Orientation="Horizontal">
                <StackPanel.Resources>
                    <Style TargetType="RadioButton">
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="RadioButton">
                                    <ContentPresenter x:Name="cp"
                                                      Content="{TemplateBinding Content}"
                                                      TextBlock.FontSize="14"
                                                      TextBlock.Foreground="#999999" />
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsChecked" Value="True">
                                            <Setter TargetName="cp" Property="TextBlock.Foreground" Value="#00beff" />
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                        <Setter Property="Cursor" Value="Hand" />
                    </Style>
                </StackPanel.Resources>
                <RadioButton x:Name="rbSeachGondition"
                             Click="rbSeachGondition_Click"
                             Content="按条件搜索"
                             IsChecked="True" />
                <Rectangle Width="1"
                           Height="12"
                           Margin="8,0,8,0"
                           Fill="#e7e7e7" />
                <RadioButton x:Name="rbResumCondition"
                             Click="rbResumCondition_Click"
                             Content="按职位搜索" />
            </StackPanel>
            <ScrollViewer x:Name="scollMain"
                          Margin="0,40,2,0"
                          Template="{DynamicResource ScrollViewerControlTemplate1}"
                          VerticalScrollBarVisibility="Auto">
                <Grid>
                    <Grid.CommandBindings>
                        <CommandBinding CanExecute="Redo_CanExcute"
                                        Command="Redo"
                                        Executed="Redo_Excute" />
                    </Grid.CommandBindings>
                    <Grid Visibility="{Binding ElementName=rbSeachGondition, Path=IsChecked, Converter={StaticResource BoolToVisibilityConverter}}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="175" />
                        </Grid.ColumnDefinitions>
                        <Rectangle Width="1"
                                   Height="440"
                                   Margin="0,20,0,0"
                                   HorizontalAlignment="Right"
                                   VerticalAlignment="Top"
                                   Fill="#eeeeee" />
                        <StackPanel x:Name="stkCondition"
                                    Margin="0,0,11,0"
                                    HorizontalAlignment="Center">
                            <StackPanel.Resources>

                                <Style TargetType="TextBlock">
                                    <Setter Property="Foreground" Value="#333333" />
                                    <Setter Property="FontSize" Value="12" />
                                    <Setter Property="Width" Value="95" />
                                    <Setter Property="TextAlignment" Value="Right" />
                                    <Setter Property="VerticalAlignment" Value="Center" />
                                </Style>
                            </StackPanel.Resources>


                            <StackPanel Margin="0,16,0,0" Orientation="Horizontal">
                                <TextBlock Text="关键字" />
                                <Grid x:Name="gdKeyWords"
                                      Width="378"
                                      Height="34"
                                      Margin="24,0,0,0">
                                    <Rectangle x:Name="rectKeyWords"
                                               Width="378"
                                               Height="34"
                                               RadiusX="3"
                                               RadiusY="3"
                                               Stroke="#e5e5e5" />
                                    <controls:HintTextBox x:Name="txtKeyWords"
                                                          Margin="10,0,0,0"
                                                          VerticalContentAlignment="Center"
                                                          BorderThickness="0"
                                                          Foreground="#333840"
                                                          GotFocus="TrackOperation_GotFocus"
                                                          Hint="多关键字请用空格隔开"
                                                          LostFocus="txtKeyWords_LostFocus"
                                                          MaxLength="100"
                                                          MouseDown="txtKeyWords_MouseDown"
                                                          MouseUp="txtKeyWords_MouseUp"
                                                          PreviewKeyDown="txtKeyWords_KeyDown"
                                                          Text="{Binding KeyWords}"
                                                          TextChanged="txtKeyWordsTextChanged_Click" />
                                </Grid>
                            </StackPanel>
                            <StackPanel Margin="0,16,0,0" Orientation="Horizontal">
                                <TextBlock Text="公司名称" />
                                <Grid x:Name="gdCompnayName"
                                      Width="378"
                                      Height="34"
                                      Margin="24,0,0,0">
                                    <Rectangle x:Name="rectCompanyName"
                                               Width="378"
                                               Height="34"
                                               RadiusX="3"
                                               RadiusY="3"
                                               Stroke="#e5e5e5" />
                                    <controls:HintTextBox x:Name="txtCompanyName"
                                                          Margin="10,0,0,0"
                                                          VerticalContentAlignment="Center"
                                                          BorderThickness="0"
                                                          Foreground="#333840"
                                                          GotFocus="TrackOperation_GotFocus"
                                                          Hint="请输入"
                                                          LostFocus="txtCompanyName_LostFocus"
                                                          MouseEnter="txtCompanyName_MouseEnter"
                                                          Text="{Binding CompanyName}"
                                                          TextChanged="txtCompanyName_TextChanged" />
                                </Grid>
                            </StackPanel>

                            <CheckBox x:Name="chkOnlyLastCompany"
                                      Margin="120,8,0,0"
                                      Click="TrackOperation_GotFocus"
                                      Content="只搜最近一份工作"
                                      FontSize="12"
                                      IsChecked="{Binding OnlyLastCompany}" />
                            <StackPanel Margin="0,16,0,0" Orientation="Horizontal">
                                <TextBlock Text="职位类别" />
                                <controls:UCAutAssociation x:Name="ucJobAssociation"
                                                           Margin="24,0,0,0"
                                                           GotFocus="TrackOperation_GotFocus" />

                            </StackPanel>

                            <StackPanel Margin="0,16,0,0" Orientation="Horizontal">
                                <TextBlock Margin="0,10,0,0"
                                           VerticalAlignment="Top"
                                           Text="行业" />
                                <controls:UCIndustry x:Name="ucIndustry"
                                                     Margin="24,0,0,0"
                                                     GotFocus="TrackOperation_GotFocus" />
                            </StackPanel>

                            <StackPanel Margin="0,16,0,0" Orientation="Horizontal">
                                <TextBlock Text="年龄" />
                                <Grid Width="178"
                                      Height="34"
                                      Margin="24,0,0,0">
                                    <Rectangle x:Name="rectAgeMin"
                                               RadiusX="3"
                                               RadiusY="3"
                                               Stroke="#e5e5e5"
                                               StrokeThickness="1" />
                                    <controls:HintTextBox x:Name="txtAgeMin"
                                                          Margin="10,0,0,0"
                                                          VerticalContentAlignment="Center"
                                                          BorderThickness="0"
                                                          Foreground="#333840"
                                                          GotFocus="TrackOperation_GotFocus"
                                                          Hint="不限"
                                                          LostFocus="txtAge_LostFocus"
                                                          MaxLength="2"
                                                          PreviewKeyDown="txt_PreviewKeyDown"
                                                          Text="{Binding MinAge}" />
                                </Grid>
                                <Rectangle Width="10"
                                           Height="1"
                                           Margin="5"
                                           VerticalAlignment="Center"
                                           Fill="#333333" />
                                <Grid Width="178"
                                      Height="34"
                                      Margin="0,0,0,0">
                                    <Rectangle x:Name="rectAgeMax"
                                               RadiusX="3"
                                               RadiusY="3"
                                               Stroke="#e5e5e5"
                                               StrokeThickness="1" />
                                    <controls:HintTextBox x:Name="txtAgeMax"
                                                          Margin="10,0,0,0"
                                                          VerticalContentAlignment="Center"
                                                          BorderThickness="0"
                                                          Foreground="#333840"
                                                          GotFocus="TrackOperation_GotFocus"
                                                          Hint="不限"
                                                          LostFocus="txtAge_LostFocus"
                                                          MaxLength="2"
                                                          PreviewKeyDown="txt_PreviewKeyDown"
                                                          Text="{Binding MaxAge}" />
                                </Grid>
                            </StackPanel>

                            <StackPanel Margin="0,16,0,0" Orientation="Horizontal">
                                <TextBlock Text="工作经验" />
                                <Grid Width="178"
                                      Height="34"
                                      Margin="24,0,0,0">
                                    <Rectangle RadiusX="3"
                                               RadiusY="3"
                                               Stroke="#e5e5e5"
                                               StrokeThickness="1" />
                                    <ComboBox x:Name="cmbWorkExpLow"
                                              Margin="0,0,0,0"
                                              VerticalContentAlignment="Center"
                                              BorderThickness="0"
                                              DisplayMemberPath="name"
                                              Foreground="#333840"
                                              GotFocus="TrackOperation_GotFocus"
                                              IsSynchronizedWithCurrentItem="False"
                                              PreviewMouseDown="cmbWorkExpLow_MouseDown"
                                              SelectedItem="{Binding WorkingExpLow}"
                                              SelectedValuePath="name "
                                              SelectionChanged="cmbWorkExpLow_SelectionChanged" />
                                </Grid>
                                <Rectangle Width="10"
                                           Height="1"
                                           Margin="5"
                                           VerticalAlignment="Center"
                                           Fill="#333333" />
                                <Grid Width="178" Height="34">
                                    <Rectangle RadiusX="3"
                                               RadiusY="3"
                                               Stroke="#e5e5e5"
                                               StrokeThickness="1" />
                                    <ComboBox x:Name="cmbWorkExpHigh"
                                              Margin="0,0,0,0"
                                              VerticalContentAlignment="Center"
                                              BorderThickness="0"
                                              DisplayMemberPath="name"
                                              Foreground="#333840"
                                              GotFocus="TrackOperation_GotFocus"
                                              PreviewMouseDown="cmbWorkExpHigh_MouseDown"
                                              SelectedItem="{Binding WorkingExpHigh}"
                                              SelectedValuePath="name " />
                                </Grid>
                            </StackPanel>
                            <StackPanel Margin="0,16,0,0" Orientation="Horizontal">
                                <TextBlock Text="学历" />
                                <Grid Width="178"
                                      Height="34"
                                      Margin="24,0,0,0">
                                    <Rectangle RadiusX="3"
                                               RadiusY="3"
                                               Stroke="#e5e5e5"
                                               StrokeThickness="1" />
                                    <ComboBox x:Name="cmbEducaitonLow"
                                              Margin="0,0,0,0"
                                              VerticalContentAlignment="Center"
                                              BorderThickness="0"
                                              DisplayMemberPath="name"
                                              Foreground="#333840"
                                              GotFocus="TrackOperation_GotFocus"
                                              PreviewMouseDown="cmbEducaitonLow_MouseDown"
                                              SelectedItem="{Binding EducationLow}"
                                              SelectedValuePath="name"
                                              SelectionChanged="cmbEducaitonLow_SelectionChanged" />
                                </Grid>
                                <Rectangle Width="10"
                                           Height="1"
                                           Margin="5"
                                           VerticalAlignment="Center"
                                           Fill="#333333" />
                                <Grid Width="178" Height="34">
                                    <Rectangle RadiusX="3"
                                               RadiusY="3"
                                               Stroke="#e5e5e5"
                                               StrokeThickness="1" />
                                    <ComboBox x:Name="cmbEducationHigh"
                                              Margin="0,0,0,0"
                                              VerticalContentAlignment="Center"
                                              BorderThickness="0"
                                              DisplayMemberPath="name"
                                              Foreground="#333840"
                                              GotFocus="TrackOperation_GotFocus"
                                              PreviewMouseDown="cmbEducationHigh_MouseDown"
                                              SelectedItem="{Binding EducationHigh}"
                                              SelectedValuePath="name" />
                                </Grid>
                            </StackPanel>

                            <StackPanel Margin="120,8,0,0" Orientation="Horizontal">
                                <CheckBox x:Name="chk985"
                                          Click="TrackOperation_GotFocus"
                                          Content="985"
                                          FontSize="12"
                                          Foreground="#333333"
                                          IsChecked="{Binding school985}" />
                                <CheckBox x:Name="chk211"
                                          Margin="16,0,0,0"
                                          Click="TrackOperation_GotFocus"
                                          Content="211"
                                          FontSize="12"
                                          Foreground="#333333"
                                          IsChecked="{Binding school211}" />
                                <CheckBox x:Name="chkAllStu"
                                          Margin="16,0,0,0"
                                          Click="TrackOperation_GotFocus"
                                          Content="全日制"
                                          FontSize="12"
                                          Foreground="#333333"
                                          IsChecked="{Binding schoolAll}"
                                          Visibility="Collapsed" />
                                <CheckBox x:Name="chkOverSea"
                                          Margin="16,0,0,0"
                                          Click="TrackOperation_GotFocus"
                                          Content="海外留学"
                                          FontSize="12"
                                          Foreground="#333333"
                                          IsChecked="{Binding schoolOverSea}" />
                            </StackPanel>

                            <StackPanel Margin="0,14,0,0" Orientation="Horizontal">
                                <TextBlock Text="期望月薪" />
                                <Grid Width="178"
                                      Height="34"
                                      Margin="24,0,0,0">
                                    <Rectangle RadiusX="3"
                                               RadiusY="3"
                                               Stroke="#e5e5e5"
                                               StrokeThickness="1" />
                                    <ComboBox x:Name="cmbSalaryLow"
                                              Margin="0,0,0,0"
                                              BorderThickness="0"
                                              DisplayMemberPath="name"
                                              GotFocus="TrackOperation_GotFocus"
                                              PreviewMouseDown="cmbSalaryLow_MouseDown"
                                              SelectedItem="{Binding SalaryLow}"
                                              SelectedValuePath="name"
                                              SelectionChanged="cmbSalaryLow_SelectionChanged" />
                                </Grid>
                                <Rectangle Width="10"
                                           Height="1"
                                           Margin="5"
                                           VerticalAlignment="Center"
                                           Fill="#333333" />
                                <Grid Width="178" Height="34">
                                    <Rectangle RadiusX="3"
                                               RadiusY="3"
                                               Stroke="#e5e5e5"
                                               StrokeThickness="1" />
                                    <ComboBox x:Name="cmbSalaryHigh"
                                              Margin="0,0,0,0"
                                              BorderThickness="0"
                                              DisplayMemberPath="name"
                                              GotFocus="TrackOperation_GotFocus"
                                              PreviewMouseDown="cmbSalaryHigh_MouseDown"
                                              SelectedItem="{Binding SalaryHigh}"
                                              SelectedValuePath="name" />
                                </Grid>
                            </StackPanel>

                            <StackPanel Margin="0,14,0,0" Orientation="Horizontal">
                                <TextBlock Text="期望城市" />
                                <Border x:Name="bdExpectCity"
                                        Width="378"
                                        Height="34"
                                        Margin="24,0,0,0"
                                        Background="White"
                                        BorderBrush="#e5e5e5"
                                        BorderThickness="1"
                                        CornerRadius="3"
                                        GotFocus="bdExpectCity_GotFocus"
                                        LostFocus="bdExpectCity_LostFocus">
                                    <Grid>
                                        <StackPanel Orientation="Horizontal">

                                            <ItemsControl VerticalAlignment="Center" ItemsSource="{Binding ExpectCity}">
                                                <ItemsControl.ItemsPanel>
                                                    <ItemsPanelTemplate>
                                                        <WrapPanel HorizontalAlignment="Stretch"
                                                                   VerticalAlignment="Top"
                                                                   Background="White"
                                                                   Orientation="Horizontal" />
                                                    </ItemsPanelTemplate>
                                                </ItemsControl.ItemsPanel>
                                                <ItemsControl.ItemTemplate>
                                                    <DataTemplate>
                                                        <Border Width="109"
                                                                Height="26"
                                                                Margin="8,0,0,0"
                                                                Background="#f8f9fc">
                                                            <Grid>
                                                                <Button x:Name="btn"
                                                                        Margin="0,0,8,0"
                                                                        HorizontalAlignment="Right"
                                                                        Click="btnCityDelete_Click">
                                                                    <Button.Template>
                                                                        <ControlTemplate>
                                                                            <Border x:Name="PART_Border"
                                                                                    Width="14"
                                                                                    Height="14"
                                                                                    Background="Transparent"
                                                                                    BorderThickness="0"
                                                                                    CornerRadius="9"
                                                                                    Padding="0">
                                                                                <Viewbox Width="10" Height="10">
                                                                                    <Path HorizontalAlignment="Center"
                                                                                          VerticalAlignment="Center"
                                                                                          Data="M6,6 L6,6 30,30 M30,6 L30,6 6,30"
                                                                                          Fill="White"
                                                                                          IsEnabled="False"
                                                                                          Stretch="Fill"
                                                                                          Stroke="#666666"
                                                                                          StrokeThickness="3" />

                                                                                </Viewbox>
                                                                            </Border>
                                                                        </ControlTemplate>
                                                                    </Button.Template>
                                                                </Button>
                                                                <TextBlock Width="77"
                                                                           Height="20"
                                                                           Margin="8,0,0,0"
                                                                           HorizontalAlignment="Left"
                                                                           VerticalAlignment="Center"
                                                                           Foreground="#666666"
                                                                           Padding="0,2,0,0"
                                                                           Text="{Binding name}"
                                                                           TextTrimming="WordEllipsis" />
                                                            </Grid>
                                                        </Border>
                                                    </DataTemplate>
                                                </ItemsControl.ItemTemplate>
                                            </ItemsControl>
                                            <controls:HintTextBox x:Name="txtExpectCity"
                                                                  Width="300"
                                                                  Margin="10,0,0,0"
                                                                  VerticalAlignment="Center"
                                                                  BorderThickness="0"
                                                                  FontSize="12"
                                                                  Foreground="#333333"
                                                                  Hint="请输入或选择"
                                                                  LostFocus="txtExpectCity_LostFocus"
                                                                  TextChanged="txtExpectCity_TextChanged" />
                                        </StackPanel>
                                        <CheckBox x:Name="chkExpectCityOpen"
                                                  Width="34"
                                                  Height="34"
                                                  HorizontalAlignment="Right"
                                                  Checked="chkExpectCityOpen_Checked"
                                                  Cursor="Hand"
                                                  Style="{x:Null}">
                                            <CheckBox.Template>
                                                <ControlTemplate TargetType="CheckBox">
                                                    <Border Background="#f8f9fc">
                                                        <Image Width="12"
                                                               Height="12"
                                                               Source="/MagicCube;component/Resources/ImageSingle/GroupCopy.png" />
                                                    </Border>
                                                </ControlTemplate>
                                            </CheckBox.Template>
                                        </CheckBox>

                                    </Grid>

                                </Border>
                            </StackPanel>
                            <StackPanel Margin="0,14,0,0" Orientation="Horizontal">
                                <TextBlock Text="现居住地" />
                                <Border x:Name="bdLocationCity"
                                        Width="378"
                                        Height="34"
                                        Margin="24,0,0,0"
                                        Background="White"
                                        BorderBrush="#e5e5e5"
                                        BorderThickness="1"
                                        CornerRadius="3"
                                        GotFocus="bdLocationCity_GotFocus"
                                        LostFocus="bdLocationCity_LostFocus">
                                    <Grid>
                                        <StackPanel Orientation="Horizontal">

                                            <ItemsControl VerticalAlignment="Center" ItemsSource="{Binding LocationCity}">
                                                <ItemsControl.ItemsPanel>
                                                    <ItemsPanelTemplate>
                                                        <WrapPanel HorizontalAlignment="Stretch"
                                                                   VerticalAlignment="Top"
                                                                   Background="White"
                                                                   Orientation="Horizontal" />
                                                    </ItemsPanelTemplate>
                                                </ItemsControl.ItemsPanel>
                                                <ItemsControl.ItemTemplate>
                                                    <DataTemplate>
                                                        <Border Width="109"
                                                                Height="26"
                                                                Margin="8,0,0,0"
                                                                Background="#f8f9fc">
                                                            <Grid>
                                                                <Button x:Name="btn"
                                                                        Margin="0,0,8,0"
                                                                        HorizontalAlignment="Right"
                                                                        Click="btnlocationDelete_Click">
                                                                    <Button.Template>
                                                                        <ControlTemplate>
                                                                            <Border x:Name="PART_Border"
                                                                                    Width="14"
                                                                                    Height="14"
                                                                                    Background="Transparent"
                                                                                    BorderThickness="0"
                                                                                    CornerRadius="9"
                                                                                    Padding="0">
                                                                                <Viewbox Width="10" Height="10">
                                                                                    <Path HorizontalAlignment="Center"
                                                                                          VerticalAlignment="Center"
                                                                                          Data="M6,6 L6,6 30,30 M30,6 L30,6 6,30"
                                                                                          Fill="White"
                                                                                          IsEnabled="False"
                                                                                          Stretch="Fill"
                                                                                          Stroke="#666666"
                                                                                          StrokeThickness="3" />

                                                                                </Viewbox>
                                                                            </Border>
                                                                        </ControlTemplate>
                                                                    </Button.Template>
                                                                </Button>
                                                                <TextBlock Width="77"
                                                                           Height="20"
                                                                           Margin="8,0,0,0"
                                                                           HorizontalAlignment="Left"
                                                                           VerticalAlignment="Center"
                                                                           Foreground="#666666"
                                                                           Padding="0,2,0,0"
                                                                           Text="{Binding name}"
                                                                           TextTrimming="WordEllipsis" />
                                                            </Grid>
                                                        </Border>
                                                    </DataTemplate>
                                                </ItemsControl.ItemTemplate>
                                            </ItemsControl>
                                            <controls:HintTextBox x:Name="txtLocationCity"
                                                                  Width="300"
                                                                  Margin="10,0,0,0"
                                                                  VerticalAlignment="Center"
                                                                  BorderThickness="0"
                                                                  FontSize="12"
                                                                  Foreground="#333333"
                                                                  Hint="请输入或选择"
                                                                  LostFocus="txtLocationCity_LostFocus"
                                                                  TextChanged="txtLocationCity_TextChanged" />
                                        </StackPanel>
                                        <CheckBox x:Name="chkLocationOpen"
                                                  Width="34"
                                                  Height="34"
                                                  HorizontalAlignment="Right"
                                                  Checked="chkLocationOpen_Checked"
                                                  Cursor="Hand"
                                                  Style="{x:Null}">
                                            <CheckBox.Template>
                                                <ControlTemplate TargetType="CheckBox">
                                                    <Border Background="#f8f9fc">
                                                        <Image Width="12"
                                                               Height="12"
                                                               Source="/MagicCube;component/Resources/ImageSingle/GroupCopy.png" />
                                                    </Border>
                                                </ControlTemplate>
                                            </CheckBox.Template>
                                        </CheckBox>

                                    </Grid>

                                </Border>
                            </StackPanel>
                            <StackPanel Margin="0,14,0,0" Orientation="Horizontal">
                                <TextBlock Text="性别" />
                                <StackPanel Orientation="Horizontal">
                                    <RadioButton x:Name="rbNullGender"
                                                 Margin="24,0,0,0"
                                                 Click="TrackOperation_GotFocus"
                                                 Content="不限"
                                                 IsChecked="True" />
                                    <RadioButton x:Name="rbGenderMan"
                                                 Margin="10,0,0,0"
                                                 Click="TrackOperation_GotFocus"
                                                 Content="男" />
                                    <RadioButton x:Name="rbGenderWoman"
                                                 Margin="10,0,0,0"
                                                 Click="TrackOperation_GotFocus"
                                                 Content="女" />
                                </StackPanel>
                            </StackPanel>
                            <StackPanel Margin="0,14,0,0" Orientation="Horizontal">
                                <TextBlock Text="更新时间" />
                                <Grid Width="378"
                                      Height="34"
                                      Margin="24,0,0,0">
                                    <Rectangle RadiusX="3"
                                               RadiusY="3"
                                               Stroke="#e5e5e5"
                                               StrokeThickness="1" />
                                    <ComboBox x:Name="cmbUpdateTime"
                                              Margin="0,0,0,0"
                                              BorderThickness="0"
                                              DisplayMemberPath="name"
                                              GotFocus="TrackOperation_GotFocus"
                                              PreviewMouseDown="cmbUpdateTime_MouseDown"
                                              SelectedItem="{Binding UpdateTime}"
                                              SelectedValuePath="name" />
                                </Grid>
                            </StackPanel>
                            <CheckBox x:Name="chkMore"
                                      Margin="120,14,0,0"
                                      HorizontalAlignment="Left"
                                      Click="TrackOperation_GotFocus"
                                      IsChecked="True">
                                <CheckBox.Template>
                                    <ControlTemplate TargetType="CheckBox">
                                        <TextBlock x:Name="tb"
                                                   HorizontalAlignment="Center"
                                                   VerticalAlignment="Center"
                                                   FontSize="12"
                                                   Foreground="#00beff"
                                                   Text="更多搜索条件" />
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="true">
                                                <Setter TargetName="tb" Property="Foreground" Value="#cc00beff" />
                                            </Trigger>
                                            <Trigger Property="IsChecked" Value="true">
                                                <Setter Property="Visibility" Value="Collapsed" />
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </CheckBox.Template>
                            </CheckBox>
                            <StackPanel x:Name="stkMore" Visibility="{Binding ElementName=chkMore, Path=IsChecked, Converter={StaticResource BoolToVisibilityConverter}}">
                                <StackPanel Margin="0,14,0,0" Orientation="Horizontal">
                                    <TextBlock Text="专业" />
                                    <Grid Width="378"
                                          Height="34"
                                          Margin="24,0,0,0">
                                        <Rectangle x:Name="rectMajor"
                                                   RadiusX="3"
                                                   RadiusY="3"
                                                   Stroke="#e5e5e5"
                                                   StrokeThickness="1" />
                                        <controls:HintTextBox x:Name="txtMajor"
                                                              Margin="10,0,0,0"
                                                              VerticalContentAlignment="Center"
                                                              BorderThickness="0"
                                                              Foreground="#333840"
                                                              GotFocus="TrackOperation_GotFocus"
                                                              Hint="请输入"
                                                              LostFocus="txtMajor_LostFocus"
                                                              Text="{Binding Major}" />
                                    </Grid>
                                </StackPanel>

                                <StackPanel Margin="0,14,0,0" Orientation="Horizontal">
                                    <TextBlock Text="学校" />
                                    <Grid x:Name="gdSchool"
                                          Width="378"
                                          Height="34"
                                          Margin="24,0,0,0">
                                        <Rectangle x:Name="rectSchool"
                                                   RadiusX="3"
                                                   RadiusY="3"
                                                   Stroke="#e5e5e5"
                                                   StrokeThickness="1" />
                                        <controls:HintTextBox x:Name="txtSchool"
                                                              Margin="10,0,0,0"
                                                              VerticalContentAlignment="Center"
                                                              BorderThickness="0"
                                                              Foreground="#333840"
                                                              GotFocus="TrackOperation_GotFocus"
                                                              Hint="请输入"
                                                              LostFocus="txtSchool_LostFocus"
                                                              MouseEnter="txtSchool_MouseEnter"
                                                              Text="{Binding School}"
                                                              TextChanged="txtSchool_TextChanged" />
                                    </Grid>
                                </StackPanel>

                                <StackPanel Margin="0,14,0,0" Orientation="Horizontal">
                                    <TextBlock Text="语言" />
                                    <Grid Width="378"
                                          Height="34"
                                          Margin="24,0,0,0">
                                        <Rectangle RadiusX="3"
                                                   RadiusY="3"
                                                   Stroke="#e5e5e5"
                                                   StrokeThickness="1" />
                                        <ComboBox x:Name="cmbLauguage"
                                                  Margin="0,0,0,0"
                                                  BorderThickness="0"
                                                  DisplayMemberPath="name"
                                                  GotFocus="TrackOperation_GotFocus"
                                                  PreviewMouseDown="cmbLauguage_MouseDown"
                                                  SelectedItem="{Binding Lauguage}"
                                                  SelectedValuePath="name" />
                                    </Grid>
                                </StackPanel>

                                <StackPanel Margin="0,14,0,0" Orientation="Horizontal">
                                    <TextBlock Text="求职状态" />
                                    <Grid Width="378"
                                          Height="34"
                                          Margin="24,0,0,0">
                                        <Rectangle RadiusX="3"
                                                   RadiusY="3"
                                                   Stroke="#e5e5e5"
                                                   StrokeThickness="1" />
                                        <ComboBox x:Name="cmbStatus"
                                                  Margin="0,0,0,0"
                                                  BorderThickness="0"
                                                  DisplayMemberPath="name"
                                                  GotFocus="TrackOperation_GotFocus"
                                                  PreviewMouseDown="cmbStatus_MouseDown"
                                                  SelectedItem="{Binding Status}"
                                                  SelectedValuePath="name" />
                                    </Grid>
                                </StackPanel>

                            </StackPanel>

                            <StackPanel Margin="120,32,0,30" Orientation="Horizontal">
                                <controls:BlueButton Width="84"
                                                     Height="30"
                                                     Click="btnSearch_Click"
                                                     Text="搜索" />
                                <!--<CheckBox x:Name="chkSaveCondition"
                                          Grid.Row="10"
                                          Grid.Column="1"
                                          Margin="20,10,0,9"
                                          HorizontalAlignment="Left"
                                          VerticalAlignment="Center"
                                          Content="保存搜索条件"
                                          FontSize="12"
                                          Foreground="#666666"
                                          IsChecked="False" />-->

                                <controls:LinkButton Margin="20,10,10,9"
                                                     Click="btnSaveCondition_Click"
                                                     Content="保存搜索条件"
                                                     FontSize="12" />
                                <Button Command="Redo" Cursor="Hand">
                                    <Button.Template>
                                        <ControlTemplate TargetType="Button">
                                            <TextBlock x:Name="tb"
                                                       HorizontalAlignment="Left"
                                                       VerticalAlignment="Center"
                                                       Foreground="#00beff"
                                                       Text="重置" />
                                            <ControlTemplate.Triggers>
                                                <Trigger Property="IsMouseOver" Value="true">
                                                    <Setter TargetName="tb" Property="Foreground" Value="#0098cc" />
                                                </Trigger>
                                                <Trigger Property="IsEnabled" Value="False">
                                                    <Setter TargetName="tb" Property="Foreground" Value="Gray" />
                                                </Trigger>
                                            </ControlTemplate.Triggers>
                                        </ControlTemplate>
                                    </Button.Template>
                                </Button>

                            </StackPanel>


                        </StackPanel>

                        <Grid Grid.Column="1" Margin="0,10,0,0">
                            <StackPanel Name="stackPanelSaveCondition" Margin="12,0,12,0">
                                <Grid>
                                    <TextBlock Margin="0,0,0,10"
                                               HorizontalAlignment="Left"
                                               VerticalAlignment="Bottom"
                                               FontSize="14"
                                               Foreground="#8490a4"
                                               Text="我保存的搜索条件" />

                                </Grid>
                                <ListView x:Name="lstSaveSearchCondition"
                                          MaxHeight="400"
                                          Background="Transparent"
                                          BorderThickness="0"
                                          ScrollViewer.CanContentScroll="False"
                                          ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                          ScrollViewer.VerticalScrollBarVisibility="Disabled"
                                          Visibility="{Binding ElementName=chkCloseSaveCondition,
                                                               Path=IsChecked,
                                                               Converter={StaticResource BoolToVisibilityConverter}}">
                                    <ListView.ItemContainerStyle>
                                        <Style TargetType="ListBoxItem">
                                            <!--<EventSetter Event="PreviewMouseLeftButtonDown" Handler="ListBoxItem_MouseDownClick" />-->
                                            <!--  设置控件模板  -->
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <ControlTemplate TargetType="ListBoxItem">
                                                        <Border Height="34" Background="{TemplateBinding Background}">
                                                            <ContentPresenter HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                                              VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                                                              TextBlock.Foreground="{TemplateBinding Foreground}" />
                                                        </Border>
                                                    </ControlTemplate>
                                                </Setter.Value>
                                            </Setter>

                                            <!--  设置触发器  -->
                                            <Style.Triggers>
                                                <Trigger Property="IsSelected" Value="true">
                                                    <Setter Property="Background" Value="Transparent" />
                                                </Trigger>
                                                <Trigger Property="IsMouseOver" Value="true">
                                                    <Setter Property="Background" Value="Transparent" />
                                                </Trigger>
                                                <MultiTrigger>
                                                    <MultiTrigger.Conditions>
                                                        <Condition Property="IsMouseOver" Value="True" />
                                                        <Condition Property="IsSelected" Value="True" />
                                                    </MultiTrigger.Conditions>
                                                    <Setter Property="Background" Value="Transparent" />
                                                </MultiTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </ListView.ItemContainerStyle>
                                    <ListView.ItemTemplate>
                                        <DataTemplate>
                                            <Border x:Name="bd"
                                                    Height="26"
                                                    MaxWidth="133"
                                                    Margin="0,0,5,0"
                                                    Background="#00beff"
                                                    CornerRadius="13">
                                                <StackPanel x:Name="tb"
                                                            HorizontalAlignment="Left"
                                                            Background="Transparent"
                                                            MouseLeftButtonUp="Grid_MouseLeftButtonUp"
                                                            Orientation="Horizontal">
                                                    <TextBlock MaxWidth="83"
                                                               Margin="12,0,0,0"
                                                               HorizontalAlignment="Left"
                                                               VerticalAlignment="Center"
                                                               FontSize="12"
                                                               Foreground="White"
                                                               Text="{Binding conditionName}"
                                                               TextTrimming="WordEllipsis" />
                                                    <Viewbox Height="14"
                                                             Margin="10,0,0,0"
                                                             VerticalAlignment="Center">
                                                        <Line Stroke="#1eafd1"
                                                              StrokeThickness="1"
                                                              X1="0"
                                                              X2="0"
                                                              Y1="0"
                                                              Y2="14" />
                                                    </Viewbox>
                                                    <Button Name="btnClearHistorySearchCondition"
                                                            Width="26"
                                                            Height="26"
                                                            Margin="0,0,0,0"
                                                            VerticalAlignment="Center"
                                                            Click="ClearHistorySearchCondition_Click"
                                                            Cursor="Hand"
                                                            Focusable="False"
                                                            Visibility="Visible">
                                                        <Button.Template>
                                                            <ControlTemplate>
                                                                <Border x:Name="bd"
                                                                        Width="16"
                                                                        Height="16"
                                                                        Background="Transparent"
                                                                        CornerRadius="8">
                                                                    <Viewbox Width="10" Height="10">
                                                                        <Path HorizontalAlignment="Center"
                                                                              VerticalAlignment="Center"
                                                                              Data="M6,6 L6,6 10,10 M10,6 L10,6 6,10"
                                                                              Fill="White"
                                                                              IsEnabled="False"
                                                                              Stretch="Fill"
                                                                              Stroke="White"
                                                                              StrokeThickness="1" />

                                                                    </Viewbox>
                                                                </Border>
                                                                <ControlTemplate.Triggers>
                                                                    <Trigger Property="IsMouseOver" Value="true">
                                                                        <Setter TargetName="bd" Property="Background" Value="Gray" />
                                                                    </Trigger>
                                                                </ControlTemplate.Triggers>
                                                            </ControlTemplate>
                                                        </Button.Template>
                                                    </Button>
                                                </StackPanel>
                                            </Border>


                                            <DataTemplate.Triggers>
                                                <Trigger Property="IsMouseOver" Value="true">
                                                    <Setter TargetName="bd" Property="Background" Value="#44d8fb" />
                                                    <Setter TargetName="btnClearHistorySearchCondition" Property="Visibility" Value="Visible" />
                                                </Trigger>
                                            </DataTemplate.Triggers>
                                        </DataTemplate>
                                    </ListView.ItemTemplate>

                                </ListView>
                            </StackPanel>
                        </Grid>
                    </Grid>
                    <Grid Margin="0,20,0,50" Visibility="{Binding ElementName=rbResumCondition, Path=IsChecked, Converter={StaticResource BoolToVisibilityConverter}}">
                        <ItemsControl x:Name="itemResumCondition">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Border Height="80"
                                            BorderBrush="#e7e7e7"
                                            BorderThickness="1,0,0,1">
                                        <Grid>
                                            <StackPanel Width="500"
                                                        Margin="12,0,0,0"
                                                        HorizontalAlignment="Left">
                                                <StackPanel Margin="0,21,0,0" Orientation="Horizontal">
                                                    <TextBlock FontSize="12"
                                                               Foreground="#333333"
                                                               Text="{Binding jobName}" />
                                                    <TextBlock Margin="15,0,0,0"
                                                               FontSize="12"
                                                               Foreground="#666666"
                                                               Text="{Binding publishTime}" />
                                                    <TextBlock FontSize="12"
                                                               Foreground="#666666"
                                                               Text=" 发布" />
                                                </StackPanel>
                                                <StackPanel Margin="0,8,0,0" Orientation="Horizontal">
                                                    <StackPanel.Resources>
                                                        <Style TargetType="TextBlock">
                                                            <Setter Property="Foreground" Value="#999999" />
                                                            <Setter Property="FontSize" Value="12" />
                                                        </Style>
                                                    </StackPanel.Resources>
                                                    <TextBlock Text="{Binding jobNeed}" />
                                                </StackPanel>
                                            </StackPanel>
                                            <Button Margin="0,0,13,0"
                                                    HorizontalAlignment="Right"
                                                    VerticalAlignment="Center"
                                                    Click="btnJobSearch_Click"
                                                    Cursor="Hand">
                                                <Button.Template>
                                                    <ControlTemplate>
                                                        <Border Width="72"
                                                                Height="30"
                                                                Background="White"
                                                                BorderBrush="#00beff"
                                                                BorderThickness="1"
                                                                CornerRadius="3">
                                                            <TextBlock HorizontalAlignment="Center"
                                                                       VerticalAlignment="Center"
                                                                       FontSize="12"
                                                                       Foreground="#00beff"
                                                                       Text="去搜索" />
                                                        </Border>
                                                    </ControlTemplate>
                                                </Button.Template>
                                            </Button>
                                        </Grid>
                                    </Border>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>

                        </ItemsControl>
                        <Rectangle Height="1"
                                   VerticalAlignment="Top"
                                   Fill="#e7e7e7"
                                   StrokeThickness="0" />
                    </Grid>

                </Grid>

            </ScrollViewer>
            <Border Height="50"
                    VerticalAlignment="Bottom"
                    Background="White"
                    Visibility="{Binding ElementName=rbResumCondition,
                                         Path=IsChecked,
                                         Converter={StaticResource BoolToVisibilityConverter}}">
                <controls:UCPageTurn x:Name="ucPageTurn" Margin="0,10,0,10" />
            </Border>
            <Grid x:Name="GdNoJob"
                  Grid.Row="1"
                  Grid.RowSpan="5"
                  Margin="0,40,0,0"
                  Panel.ZIndex="6"
                  Background="#ffffff"
                  Visibility="Collapsed">
                <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                    <Image Width="90"
                           Height="79"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"
                           Source="/MagicCube;component/Resources/Images/UnInfomation.png"
                           Stretch="Uniform" />
                    <StackPanel Margin="0,16,0,30"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                Orientation="Horizontal">
                        <TextBlock FontSize="14"
                                   Foreground="#666666"
                                   Text="您还没有发布中的职位,赶快" />
                        <Button Click="btnJobPublish_Click" Cursor="Hand">
                            <Button.Template>
                                <ControlTemplate>
                                    <TextBlock FontSize="14"
                                               Foreground="#00beff"
                                               Text="发布职位" />
                                </ControlTemplate>
                            </Button.Template>
                        </Button>

                        <TextBlock FontSize="14"
                                   Foreground="#666666"
                                   Text="，就能直接搜索啦" />
                    </StackPanel>
                    <controls:BlueButton Width="140"
                                         Height="34"
                                         Click="btnGoToConditionSearch_Click"
                                         Text="按条件搜索" />
                </StackPanel>
            </Grid>
        </Grid>


        <Grid x:Name="gdJobTree"
              Grid.Row="1"
              Visibility="Collapsed">
            <controls:UCJobTree x:Name="ucJobTree" />
        </Grid>
    </Grid>
</UserControl>
